<div class="card mb-3 border-2 {{#if isAccepted}}border-success{{/if}} {{#if isRejected}}border-danger{{/if}}"
  data-id="{{data.id}}">
  <!-- Force image aspect ratio -->
  <div class="card-img-top w-100 lockable-container"
    style="position: relative; aspect-ratio: {{data.options.width}}/{{data.options.height}};">
    <div
      style="position: absolute; top: 0; left: 0; height: 100%; width: 100%; background-color: rgba(255,0,0, 0); pointer-events: none;">
    </div>
    <img class="w-100 h-100 {{#if _options.isLockable}}lockable{{/if}}" alt="Loading...">
  </div>
  <div class="card-body">
    <div class="card-text pb-2">
      <div class="d-flex justify-content-between">
        <div>
          {{#if _options.prompt}}
          <span
            title="{{_options.prompt.prompt}} // {{_options.prompt.negative_prompt}}">#{{_options.prompt.orderIndex}}</span>
          {{#if _options.prompt.active}}
          <i class="bi bi-play text-success"></i>
          {{else}}
          <i class="bi bi-stop text-danger"></i>
          {{/if}}
          {{else}}
          <span title="{{data.options.prompt}} // {{data.options.negative_prompt}}">#?</span>
          {{/if}}
        </div>
        <div>
          <a ref="seed" href="javascript: void(0);">
            <span class="seed">{{data.options.seed}}</span>
            <i class="bi bi-heart{{#if _options.isPreferredSeed}}-fill text-danger{{/if}}"></i>
          </a>
        </div>
      </div>
    </div>
    {{#if isWaitingEvaluation}}
    <div class="row g-1">
      {{#if _options.prompt.active}}
      <div class="col">
        <button ref="stop" type="button" class="btn btn-outline-danger form-control"><i class="bi bi-stop"></i></button>
      </div>
      {{else}}
      <div class="col">
        <button ref="start" type="button" class="btn btn-outline-success form-control"><i
            class="bi bi-play"></i></button>
      </div>
      {{/if}}
      <div class="col">
        <button ref="reject" type="button" class="btn btn-danger form-control"><i class="bi bi-x-lg"></i></button>
      </div>
      <div class="col">
        <button ref="accept" type="button" class="btn btn-success form-control"><i class="bi bi-check-lg"></i></button>
      </div>
      <div class="col">
        <button ref="highres" type="button" class="btn btn-primary form-control"><i class="bi bi-star"></i></button>
      </div>
      <div class="col">
        <button ref="featured" type="button" class="btn btn-secondary form-control"><i class="bi bi-image"></i></button>
      </div>
    </div>
    {{/if}}
  </div>
</div>